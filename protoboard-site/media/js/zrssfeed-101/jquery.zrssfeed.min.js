(function(d){d.fn.rssfeed=function(k,l){var a=d.extend({limit:10,header:true,titletag:"h4",date:true,content:true,snippet:true,showerror:true,errormsg:"",key:null},l);return this.each(function(m,h){var e=d(h);e.hasClass("rssFeed")||e.addClass("rssFeed");if(k==null)return false;e="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+k;if(a.limit!=null)e+="&num="+a.limit;if(a.key!=null)e+="&key="+a.key;d.ajax({url:e,dataType:"json",success:function(b){if(b.responseStatus==200){if(b=
b.responseData.feed){var c="",i="odd";if(a.header)c+='<div class="rssHeader"><a href="'+b.link+'" title="'+b.description+'">'+b.title+"</a></div>";c+='<div class="rssBody"><ul>';for(var j=0;j<b.entries.length;j++){var f=b.entries[j],g=new Date(f.publishedDate);g=g.toLocaleDateString()+" "+g.toLocaleTimeString();c+='<li class="rssRow '+i+'"><'+a.titletag+'><a href="'+f.link+'" title="View this feed at '+b.title+'">'+f.title+"</a></"+a.titletag+">";if(a.date)c+="<div>"+g+"</div>";if(a.content)c+="<p>"+
(a.snippet&&f.contentSnippet!=""?f.contentSnippet:f.content)+"</p>";c+="</li>";i=i=="odd"?"even":"odd"}c+="</ul></div>";d(h).html(c)}}else{if(a.showerror)c=a.errormsg!=""?a.errormsg:b.responseDetails;d(h).html('<div class="rssError"><p>'+c+"</p></div>")}}})})}})(jQuery);